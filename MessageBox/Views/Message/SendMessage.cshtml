@model EntityLayer.Concrete.Message
@{
    ViewData["Title"] = "Mesaj Gönder";
    Layout = "~/Views/MessageLayout/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-12 col-md-8">

        <div class="card mt-3 shadow-none">
            <div class="card-body">
                <form method="post">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <p>Alıcı :</p>
                                <input type="email" class="form-control" placeholder="Alıcı" asp-for="RecieverMail">
                            </div>
                            <div class="col-md-6">
                                <p>Konu :</p>
                                <input type="text" class="form-control" placeholder="Konu" asp-for="Subject">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <p>Mesaj :</p>
                        <textarea class="form-control" id="summernoteEditor" placeholder="Mesaj" asp-for="Content"></textarea>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary waves-effect waves-light m-1" onclick="showSuccessPopup()"><i class="fa fa-floppy-o mr-1"></i> Mesaj Gönder</button>
                    </div>
                </form>
            </div> <!-- card body -->
        </div> <!-- card -->
    </div> <!-- end Col-9 -->
</div>

@section Scripts{
    <script>

            function showSuccessPopup() {
                Swal.fire({
                    title: 'Başarılı!',
                    text: 'Mesajınız Gönderildi.',
                    icon: 'success',
                    confirmButtonText: 'Tamam',
                    // didClose: () => {
                    //     // SweetAlert popup'ı kapatıldığında,  yönlendirme yap
                    //     //window.location.href = '/Message/Index'; // Yönlendirilecek sayfanın URL'si
                    // }
            }).then((result) => {
                if (result.isConfirmed) {
                   
                    setTimeout(function () {
                        window.location.href = '/Message/Index';
                    }, 4000);
                }
            });
            }
    </script>

}

